(splitstylexbranchstylexgridxappendxgetAttributexsetAttributexinnerHTMLxmapxgetFullYearxgetMonthsplit=(e,t,a,l,r,n)=>{let[o,i,c]=e[t].src[n]("/").reverse(),s=new URL(e[t].src),d=((e,t=e)=>s.searchParams.get(e)||t)("family-calendar"),h=e=>r(e.children),g=(e,t)=>e+"-"+t,[m,f,x,b,p,u,y,$,w,k,v,M,D,H,z,A,S,V,T,j,L,N,R,E,C,F,O,Z]=((new Error).stack[n](n)[1]+l)[n]("x"),I="ex",Y=T+"only",q="show"+O,B="show"+Z,P=D+H,U=g(A,S),_=g(A,N),G=g(H,S),J=g(H+M,S),K=g(H+M,N),Q=g(D+H,S),W=g(D+H+M,S),X=g(D+H+M,N),ee=g(V,S),te=g(V+v,S),ae=g(V+"hover",S),le={[U]:"#bdb76b",[_]:"#000080",[G]:"#eee8aa",[J]:"#bdb76b",[K]:"#000000",[Q]:"#eee8aa",[W]:"#bdb76b",[X]:"#000080",[ee]:"#ffcc00",[te]:"#ffeb00",[ae]:"#ffa500"},re=(e,t)=>`\n\n${e}\n  {${t}}`,ne=e=>`var(--${e},${le[e]})`,oe="display:inline-block;",ie="display:none;",ce="&nbsp;",se=e=>`[${e}]`,de=e=>`:not(${e})`,he=e=>`:host(${e})`,ge=e=>`[${L}~=${e}]`,me=(e,t)=>`background:${ne(e)}`+(t?`;${N}:${ne(t)}`:"");window[c][i](d,class extends HTMLElement{async connectedCallback(){let t=this,l=(t,a={})=>Object.assign(e.createElement(t),a),o=(e,t)=>e.querySelectorAll(t),i=e=>e[p](M),c=(e,a)=>g((t[p]("prefix")||R)+e,a),s=c(v,T),d=c(H,x),D=c(A,H),S=c(z,F),V=c(z,O),le=c(z,Z),fe=c("day",z),xe=c(H,M),be=c(A+H,"events"),pe=c(z,"label"),ue=c(z,"age"),ye=c(Z,"info"),$e=c("left",C),we=c("right",C),ke=c(j,C),ve=c(j,"icon"),Me=c(j,M),De=c(z,"day"),He=c(z,"year"),ze=r({length:12},((e,a)=>new Date(1,a,1).toLocaleString(t[p](H)||navigator.language,{[H]:"long"}))),Ae=t[p]("today")?new Date(t[p]("today")):new Date,Se=ze[Ae.getMonth()],Ve=e=>`<svg viewBox='0 0 40 40'>${[`<path fill=red stroke-${E}=2 stroke=black d="M20 37V20ZM37 13H22l7-4A4 4 0 0024 5l-4 7-3-7a4 4 0 10-5 5l6 3H4v6l2 2H35l2-2Zm-3 7H7V35l2 2H32l2-2V20Z"/>`,'<circle cx=12 r=4 cy=18 /><circle cx=30 r=4 cy=5 /><path d="m8 23c-1 1-3 6-3 6-1 2 1 2 2 1l2-4v13c0 2 3 2 3 0V30h1v7c0 2 3 2 3 0V25l4-4c1-3 1-3-1-2l-3 3zm15-9v23c0 3 4 3 4 0V23h2v14c0 3 4 3 4 0V14h1v8c0 2 3 2 3 0V13c0-3-2-4-4-4H24c-1 0-2 1-3 2l-5 9c-1 2 2 3 3 1l4-7z"/>',`<path fill=red stroke=black d="M12 3c-4 0-7 3-7 7c0 8 8 10 13 18c5-8 13-10 13-18a7 7 90 00-13-3c-1-3-4-4-6-4z"/><circle cy=31 r=8 stroke-${E}=3 stroke=black fill=none cx=11 /><circle cy=31 r=8 stroke-${E}=3 stroke=black fill=none cx=26 />`,'<path fill=red stroke=black d="M12 10c-4 0-7 3-7 7c0 8 8 10 13 18c5-8 13-10 13-18a7 7 90 00-13-3c-1-3-4-4-6-4z"/>'][e]}</svg>`;t.show=(e,a,l,r=(e,t,a=se(T+`*="${e}"`))=>re(":host "+ge(z)+a,oe+me(t))+re(":host "+ge(I)+de(a),ie))=>{if("string"==typeof e&&(e=t[F](e)),!e)return t[f][y]=R;e.a.f&&(e=e.a.f),localStorage.setItem(T,e[0]),[a,l]=e,e.length<4&&(l=a),t[f][y]=r(l,te)+r(a,ee)};let Te=(e,t,a,l,r)=>{if(!e)return;let[o,i,c]=String(e)[n](/[-\/]/)[$]((e=>+e));return c?(t=new Date(o,i-1,c),a=Ae||new Date,l=new Date(a[w](),i-1,c),(r=Math.ceil((l-a)/864e5))<0&&(r=Math.ceil((l.setFullYear(l[w]()+1)-a)/864e5)),{a:t,b:r,c:ze[i-1],d:o+ze[i-1]+c,e:a[w]()-t[w]()-(a[k]()<t[k]()||a[k]()==t[k]()&&a.getDate()<t.getDate()?1:0),year:o,month:i,day:c}):Te("2025-1-1")};t[F]=e=>o(t[x],S+se(`id^="${e}"`))[0];let je,Le=l(m),Ne=l(m),Re=0,Ee=t.events={},Ce=[],Fe=e=>e?e.textContent.trim():R,Oe=e=>e[p]("date"),Ze=e=>e[p](Z);ze[$]((e=>Ee[e]=[]));let Ie=async(c,g,k=(e,t)=>r(e.attributes)[$]((e=>t[u](e.name,e.value))))=>{Re++;for(let e of c[n](",")){let a=await fetch((t[p]("calendars")||"./calendars/")+v+"-"+e+".html");Ye(await a.text(),g||Le)}if(! --Re){Ne[b](...h(Le)[$]((function e(t,a=i(t)||Fe(t)||M,r,n,c=t.localName,[d=t,g=d]=h(t)){if(c==O)n=l(V),d.M=g,g.M=d;else if(c==F||"child"==c)n=l(S),Ze(t)&&((r=l(le,{a:{i:t,g:a,j:Te(Oe(t))}}))[u]("date",Ze(t)),Ce.push([n,r]));else if(c==T)(n=l(s))[u](M,a=i(t)||Fe(o(t,F)[0]));else{if(c!=z)return;n=l(fe)}n.a={g:a,i:t},k(t,n);for(let a of h(t))(je=e(a))&&n[b](je);return n}))),Ce[$]((([e,t])=>e.after(t)));let n=(e,a=[],{localName:o,a:c}=e,d=(o==s?[...a,i(e)]:a),g,m)=>{if(c.f=r(new Set(d)).reverse(),o!=s&&(Object.assign(c,{h:Te(Oe(e)),l:e[p](Y),k:Te(Ze(c.i))}),g=c.h)){let{g:a,j:n,f:i,k:s,i:d,i:{children:h,M:f}}=c,x=R,b=a,w=R,v=i[a==i[0]?1:0],M=R,D=[z,o],H=(e,t=R)=>`<${e} ${L}="${e}">${t}</${e}>`,A=(e,t)=>Math.round((t.getTime()-e.getTime())/315576e5),j=e=>D.push(e),N=!s&&g.b<(t[p]("days")||28),E=H(ue,A(g.a,new Date))+H(ke,H(ve)+H(Me));o==le?(b="†"+ce+b,w=H(ue,A(n.a,s.a))):o==S?(e.hasAttribute(I)&&j(I),s?(j(Z),x=H(ye,ce+"†"+H(He,ce+"'"+s.year%100)),w=H(ue,A(g.a,s.a))):N?(j("upcoming"),j(g.b?"nottoday":"today"),b=H(ve,Ve(0))+H(ue,g.e+1)+ce+ce+b,x=R,w=R):(w=H(ue,g.e),j("notupcoming"))):o==fe?(v=R,w=E):o==V&&(j(Y),d[p]("end")?(M=I,j(I)):M=d.hasAttribute("notmarried")?3:2,b=r(h)[$](Fe).join(M==I?ce+I+ce:H(ve,Ve(M))),w=E,v=!1),o!=V&&(d.hasAttribute(I)?(M=I,v=d[p](I)||v):f?(M=3,v=Fe(f)):M=1),(m=l(o,{id:a.normalize("NFD").replace(/[^a-z]/gi,R)+"_"+(n||g).d,[y]:H($e,H(De,g.day)+H(He,"'"+g.year%100)+H(pe,b)+x)+H(we,w+(v?H(ke,H(ve,M==I?I:Ve(M))+H(Me,v)):R)),a:{...e.a},onclick:()=>t.show(m)}))[L].add(...D),m[u](T,i),k(e,m),Ee[g.c].push(m),t.createElement?.(m)}h(e)[$]((e=>n(e,d)))};h(Ne)[$]((e=>n(e))),t.shadowRoot||t.attachShadow({mode:"open"}),t.shadowRoot.innerHTML=R,t.shadowRoot[b](l(m,{id:"maincss",[y]:re(":host",oe+me(U,_)+";font:10px arial;line-height:1.3em")+re(d,"gap:1px;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))")+re(ge(z),oe+`${E}:100%;border-bottom:.1em dashed ${ne(U)};user-select:none;-webkit-user-select:none;-moz-user-select:none`)+re(ve,oe+`${E}:1em;padding:0 .3em`)+re(D,me(G))+re(ge(P),me(Q))+re(xe,oe+`${E}:100%;padding-top:.3em;text-align:center;`+me(J,K))+re(xe+ge(P),"font-weight:bold;"+me(W,X))+re(ge("today"),me(J))+re(ge(z)+":hover","cursor:pointer;"+me(ae))+re(De,oe+`${E}:1.2em;text-align:right;padding:0 .3em`)+re(He,oe+`${E}:1.2em;text-align:right;zoom:.8`)+re(pe,"font-weight:bold;padding:0 .5em")+re(we,"float:right")+re(ke,oe+`${E}:7.5em`)+re(he(se(B))+" "+le,oe)+re(he(de(se(B)))+" "+le,ie)+re(he(se(q))+" "+V,oe)+re(he(de(se(q)))+" "+V,ie)+re(he(se(q))+" "+V+ge(I),oe)+`::slotted(*){text-align:center;${N}:${ne(J)}}`}),t[f]=l(m,{id:f}),l("slot",{[M]:"header"}),t[x]=l(d,{[L]:d}),l("slot",{[M]:"footer"}),t.insert=l(m)),o(e,"#"+t.localName)?.[0]&&(t.insert[y]=o(o(e,"#"+t.localName)?.[0].content,m)[0][y]),t.shadowRoot[b](...o(this,m)),t[x][b](...a(Ee)[$]((([e,a],r,n,o=(Se==e?P:"not"+P),i=l(D,{[L]:o+" "+D}))=>(i[b](l(xe,{[L]:o+" "+xe,[y]:(Se==e?Ae.getDate():R)+" "+ze[r]+" "+(Se==e?Ae[w]():R)}),t[e]=l(be,{[L]:o+" "+be})),i.part.add(o,D),t[e][b](...a.sort(((e,t)=>e.a.h.day-t.a.h.day))),i)))),setTimeout((()=>t.connectedCallback()),36e5),t.show(localStorage.getItem(T)||t[p](T))}},Ye=(e=R,t,a=l(T,{[y]:e}))=>{for(let e of o(a,T+":empty"))Ie(e[p]("file")||i(e),e);t[b](a)};Ie(t[p](v)||R),setTimeout((()=>Ye(o(this,T)[0]?.[y],Le)))}})})(document,"currentScript",Object.entries,"xfamilyxnamexcurrentxmonthxeventxcalendarxbackgroundxhighlightxbranchxrelationxpartxcolorxxwidthxcolumnxpersonxpartnersxdeath",Array.from,"split");